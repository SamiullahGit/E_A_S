<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Attendance System</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>Employee Attendance System</h1>
        <div id="login-section">
            <form id="login-form">
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" required>
                </div>
                <div class="form-group">
                    <label for="security-answer">Security Answer:</label>
                    <input type="text" id="security-answer" required>
                </div>
                <div class="form-group">
                    <label for="otp">OTP:</label>
                    <input type="text" id="otp" required maxlength="6">
                    <button type="button" id="request-otp" class="btn btn-secondary" style="margin-top: 0.5rem;">
                        Send OTP
                    </button>
                </div>
                <button type="submit" class="btn">Login</button>
            </form>
            <div class="link">
                <a href="#" id="show-signup">New Employee? Create Account</a>
            </div>
        </div>

        <div id="signup-section" class="hidden">
            <form id="signup-form">
                <div class="form-group">
                    <label for="full-name">Full Name:</label>
                    <input type="text" id="full-name" required>
                </div>
                <div class="form-group">
                    <label for="signup-email">Email:</label>
                    <input type="email" id="signup-email" required>
                </div>
                <div class="form-group">
                    <label for="cnic">CNIC:</label>
                    <input type="text" id="cnic" required>
                </div>
                <div class="form-group">
                    <label for="security-question">Security Question:</label>
                    <select id="security-question" required>
                        <option value="">Select a security question</option>
                        <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
                        <option value="What was your first pet's name?">What was your first pet's name?</option>
                        <option value="What elementary school did you attend?">What elementary school did you attend?</option>
                        <option value="What is your favorite book?">What is your favorite book?</option>
                        <option value="What city were you born in?">What city were you born in?</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="security-answer-signup">Security Answer:</label>
                    <input type="text" id="security-answer-signup" required>
                </div>
                <div class="form-group">
                    <label for="signup-password">Password:</label>
                    <input type="password" id="signup-password" required>
                    <small style="display: block; margin-top: 0.3rem; color: #666;">
                        üîê NIST Guideline: Minimum 8 characters
                    </small>
                    <div id="password-strength" style="margin-top: 0.5rem; padding: 0.5rem; border-radius: 4px; font-size: 0.9rem; font-weight: bold; display: none;"></div>
                </div>
                <button type="submit" class="btn">Register</button>
            </form>
            <div class="link">
                <a href="#" id="show-login">Already have an account? Login</a>
            </div>
        </div>

        <div id="alert-container"></div>
    </div>

    <script src="js/encryption.js"></script>
    <script src="js/auth.js"></script>
    <script>
        const signupPasswordInput = document.getElementById('signup-password');
        const passwordStrengthDiv = document.getElementById('password-strength');
        
        if (signupPasswordInput) {
            signupPasswordInput.addEventListener('input', function() {
                const strength = getPasswordStrength(this.value);
                
                if (this.value.length === 0) {
                    passwordStrengthDiv.style.display = 'none';
                } else {
                    passwordStrengthDiv.style.display = 'block';
                    let color = '#ff6b6b';
                    let text = 'üî¥ Weak';
                    
                    if (strength === 'fair') {
                        color = '#ffa500';
                        text = 'üü† Fair';
                    } else if (strength === 'good') {
                        color = '#74c0fc';
                        text = 'üîµ Good';
                    } else if (strength === 'strong') {
                        color = '#51cf66';
                        text = 'üü¢ Strong';
                    }
                    
                    passwordStrengthDiv.style.backgroundColor = color + '20';
                    passwordStrengthDiv.style.borderLeft = `4px solid ${color}`;
                    passwordStrengthDiv.textContent = text;
                }
            });
        }
    </script>
</body>
</html>